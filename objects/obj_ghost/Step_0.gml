/// @description Insert description here
// You can write your code in this editor

// every ghost needs a _targetx and _targety assigned

var _frightened = (frightened_timer > 0)

if (_frightened) {
	// target is set to the inverse of the ghosts regular target
	targetx = 224-targetx;
	targety = 288-targety;
	frightened_timer--;
}

// check if we're hitting a pathfinding node
if (place_meeting(x, y, obj_pathnode)) {
	
	var _turnpoint = instance_place(x, y, obj_pathnode);
	
	// turning phase
	if (self.x == _turnpoint.x+4 && y == _turnpoint.y+4) {
		find_best_angle(self.targetx, self.targety);
	}
}

move_and_collide(self.xdir, self.ydir, obj_collision, 1);

// warp zones
if (x < -8) { x = 232; } // left to right
if (x > 232) { x = -8; } // right to left



























































































































































































































































































































